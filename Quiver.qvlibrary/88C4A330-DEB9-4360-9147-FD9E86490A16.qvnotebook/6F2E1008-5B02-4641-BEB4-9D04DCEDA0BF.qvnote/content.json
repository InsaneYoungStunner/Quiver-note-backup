{
  "title": "Zookeeper 概述",
  "cells": [
    {
      "type": "text",
      "data": "<p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px;\">ZooKeeper是一种分布式协调服务，用于管理大型主机。</span><span style=\"margin: 0px; padding: 0px;\">在分布式环境中协调和管理服务是一个复杂的过程。</span><span style=\"margin: 0px; padding: 0px;\">ZooKeeper通过其简单的架构和API解决了这个问题。</span><span style=\"margin: 0px; padding: 0px;\">ZooKeeper允许开发人员专注于核心应用程序逻辑，而不必担心应用程序的分布式特性。</span></p><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px;\">ZooKeeper框架最初是在“Yahoo!\"上构建的，用于以简单而稳健的方式访问他们的应用程序。</span>&nbsp;<span style=\"margin: 0px; padding: 0px;\">后来，Apache ZooKeeper成为Hadoop，HBase和其他分布式框架使用的有组织服务的标准。</span>&nbsp;<span style=\"margin: 0px; padding: 0px;\">例如，Apache HBase使用ZooKeeper跟踪分布式数据的状态。</span></p><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px;\">在进一步深入之前，我们了解关于分布式应用的一两件事情是很重要的。</span><span style=\"margin: 0px; padding: 0px;\">因此，让我们开始分布式应用的概述的快速讨论。</span></p>"
    },
    {
      "type": "text",
      "data": "<h2 trans_replace=\"0\" trans=\"1\" style=\"margin: 20px 0px 10px; padding: 0px; color: rgb(0, 0, 0); line-height: 1.7; font-size: 16px; font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px;\">分布式应用</span></h2><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px;\">分布式应用可以在给定时间（同时）在网络中的多个系统上运行，通过协调它们以快速有效的方式完成特定任务。</span><span style=\"margin: 0px; padding: 0px;\">通常来说，对于复杂而耗时的任务，非分布式应用（运行在单个系统中）需要几个小时才能完成，而分布式应用通过使用所有系统涉及的计算能力可以在几分钟内完成。</span></p><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px;\">通过将分布式应用配置为在更多系统上运行，可以进一步减少完成任务的时间。</span><span style=\"margin: 0px; padding: 0px;\">分布式应用正在运行的一组系统称为<strong style=\"margin: 0px; padding: 0px;\">集群</strong>，而在集群中运行的每台机器被称为<strong style=\"margin: 0px; padding: 0px;\">节点</strong>。</span></p><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px;\">分布式应用有两部分，<strong style=\"margin: 0px; padding: 0px;\">&nbsp;Server（服务器）&nbsp;</strong>和<strong style=\"margin: 0px; padding: 0px;\">&nbsp;Client（客户端）&nbsp;</strong>应用程序。</span><span style=\"margin: 0px; padding: 0px;\">服务器应用程序实际上是分布式的，并具有通用接口，以便客户端可以连接到集群中的任何服务器并获得相同的结果。</span>&nbsp;<span style=\"margin: 0px; padding: 0px;\">客户端应用程序是与分布式应用进行交互的工具。</span></p>"
    },
    {
      "type": "text",
      "data": "<h3 trans_replace=\"0\" trans=\"1\" style=\"margin: 20px 0px 10px; padding: 0px; color: rgb(0, 0, 0); line-height: 1.7; font-size: 14px; font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px;\">分布式应用的优点</span></h3><ul class=\"list\" style=\"margin: 10px 0px; padding: 0px 0px 0px 30px; list-style-position: outside; list-style-image: none; line-height: 1.7; color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><li style=\"margin: 0px; padding: 0px;\"><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7;\"><span style=\"margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">可靠性</strong>&nbsp;- 单个或几个系统的故障不会使整个系统出现故障。</span></p></li><li style=\"margin: 0px; padding: 0px;\"><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7;\"><span style=\"margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">可扩展性</strong>&nbsp;- 可以在需要时增加性能，通过添加更多机器，在应用程序配置中进行微小的更改，而不会有停机时间。</span></p></li><li style=\"margin: 0px; padding: 0px;\"><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7;\"><span style=\"margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">透明性</strong>&nbsp;- 隐藏系统的复杂性，并将其显示为单个实体/应用程序。</span></p></li></ul><h3 trans_replace=\"0\" trans=\"1\" style=\"margin: 20px 0px 10px; padding: 0px; color: rgb(0, 0, 0); line-height: 1.7; font-size: 14px; font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px;\">分布式应用的挑战</span></h3><ul class=\"list\" style=\"margin: 10px 0px; padding: 0px 0px 0px 30px; list-style-position: outside; list-style-image: none; line-height: 1.7; color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><li style=\"margin: 0px; padding: 0px;\"><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7;\"><span style=\"margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">竞争条件</strong>&nbsp;- 两个或多个机器尝试执行特定任务，实际上只需在任意给定时间由单个机器完成。</span><span style=\"margin: 0px; padding: 0px;\">例如，共享资源只能在任意给定时间由单个机器修改。</span></p></li><li style=\"margin: 0px; padding: 0px;\"><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7;\"><span style=\"margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">死锁</strong>&nbsp;- 两个或多个操作等待彼此无限期完成。</span></p></li><li style=\"margin: 0px; padding: 0px;\"><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7;\"><span style=\"margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">不一致</strong>&nbsp;- 数据的部分失败。</span></p></li></ul>"
    },
    {
      "type": "text",
      "data": "<h2 trans_replace=\"0\" trans=\"1\" style=\"margin: 20px 0px 10px; padding: 0px; color: rgb(0, 0, 0); line-height: 1.7; font-size: 16px; font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px;\">什么是Apache ZooKeeper？</span></h2><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px;\">Apache ZooKeeper是由集群（节点组）使用的一种服务，用于在自身之间协调，并通过稳健的同步技术维护共享数据。</span><span style=\"margin: 0px; padding: 0px;\">ZooKeeper本身是一个分布式应用程序，为写入分布式应用程序提供服务。</span></p>"
    },
    {
      "type": "text",
      "data": "<p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px;\">ZooKeeper提供的常见服务如下 :</span></p><ul class=\"list\" style=\"margin: 10px 0px; padding: 0px 0px 0px 30px; list-style-position: outside; list-style-image: none; line-height: 1.7; color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><li style=\"margin: 0px; padding: 0px;\"><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7;\"><span style=\"margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">命名服务</strong>&nbsp;- 按名称标识集群中的节点。</span><span style=\"margin: 0px; padding: 0px;\">它类似于DNS，但仅对于节点。</span></p></li><li style=\"margin: 0px; padding: 0px;\"><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7;\"><span style=\"margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">配置管理</strong>&nbsp;- 加入节点的最近的和最新的系统配置信息。</span></p></li><li style=\"margin: 0px; padding: 0px;\"><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7;\"><span style=\"margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">集群管理</strong>&nbsp;- 实时地在集群和节点状态中加入/离开节点。</span></p></li><li style=\"margin: 0px; padding: 0px;\"><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7;\"><span style=\"margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">选举算法</strong>&nbsp;- 选举一个节点作为协调目的的<span style=\"margin: 0px; padding: 0px;\">leader</span>。</span></p></li><li style=\"margin: 0px; padding: 0px;\"><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7;\"><span style=\"margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">锁定和同步服务</strong>&nbsp;- 在修改数据的同时锁定数据。</span><span style=\"margin: 0px; padding: 0px;\">此机制可帮助你在连接其他分布式应用程序（如Apache HBase）时进行自动故障恢复。</span></p></li><li style=\"margin: 0px; padding: 0px;\"><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7;\"><span style=\"margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">高度可靠的数据注册表</strong>&nbsp;- 即使在一个或几个节点关闭时也可以获得数据。</span></p></li></ul>"
    },
    {
      "type": "text",
      "data": "<span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">分布式应用程序提供了很多好处，但它们也抛出了一些复杂和难以解决的挑战。</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">ZooKeeper框架提供了一个完整的机制来克服所有的挑战。竞争条件和死锁</span><span style=\"margin: 0px; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2;\"><font color=\"#000000\" style=\"background-color: rgb(255, 255, 255);\">使用</font><strong style=\"margin: 0px; padding: 0px;\"><font color=\"#323232\" style=\"background-color: rgb(254, 250, 0);\">故障安全同步</font><font color=\"#000000\" style=\"background-color: rgb(255, 255, 255);\">方法</font></strong><font color=\"#000000\" style=\"background-color: rgb(255, 255, 255);\">进行处理。</font></span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">另一个主要缺点是数据的不一致性，ZooKeeper使用<strong style=\"margin: 0px; padding: 0px;\">原子性</strong>解析。</span>"
    },
    {
      "type": "text",
      "data": "<h2 trans_replace=\"0\" trans=\"1\" style=\"margin: 20px 0px 10px; padding: 0px; color: rgb(0, 0, 0); line-height: 1.7; font-size: 16px; font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px;\">ZooKeeper的好处</span></h2><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px;\">以下是使用ZooKeeper的好处：</span></p><ul class=\"list\" style=\"margin: 10px 0px; padding: 0px 0px 0px 30px; list-style-position: outside; list-style-image: none; line-height: 1.7; color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><li style=\"margin: 0px; padding: 0px;\"><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7;\"><span style=\"margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">简单的分布式协调过程</strong></span></p></li><li style=\"margin: 0px; padding: 0px;\"><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7;\"><span style=\"margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">同步</strong>&nbsp;- 服务器进程之间的相互排斥和协作。</span><span style=\"margin: 0px; padding: 0px;\">此过程有助于Apache HBase进行配置管理。</span></p></li><li style=\"margin: 0px; padding: 0px;\"><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7;\"><span style=\"margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">有序的消息</strong></span></p></li><li style=\"margin: 0px; padding: 0px;\"><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7;\"><span style=\"margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">序列化</strong>&nbsp;- 根据特定规则对数据进行编码。</span><span style=\"margin: 0px; padding: 0px;\">确保应用程序运行一致。</span><span style=\"margin: 0px; padding: 0px;\">这种方法可以在MapReduce中用来协调队列以执行运行的线程。</span></p></li><li style=\"margin: 0px; padding: 0px;\"><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7;\"><span style=\"margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">可靠性</strong></span></p></li><li style=\"margin: 0px; padding: 0px;\"><p trans_replace=\"0\" trans=\"1\" style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7;\"><span style=\"margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">原子性</strong>&nbsp;- 数据转移完全成功或完全失败，但没有事务是部分的。</span></p></li></ul>"
    }
  ]
}