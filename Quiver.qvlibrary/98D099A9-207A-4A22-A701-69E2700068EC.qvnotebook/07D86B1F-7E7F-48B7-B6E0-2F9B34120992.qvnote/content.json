{
  "title": "Linux下ps -ef和ps aux的区别及格式详解",
  "cells": [
    {
      "type": "text",
      "data": "<p style=\"margin: 10px auto; color: rgb(0, 0, 0); font-family: Verdana, &quot;Lucida Grande&quot;, Arial, Helvetica, sans-serif; font-size: 12px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">inux下显示系统进程的命令ps，最常用的有ps -ef 和ps aux。这两个到底有什么区别呢？两者没太大差别，讨论这个问题，要追溯到Unix系统中的两种风格，</p><p style=\"margin: 10px auto; color: rgb(0, 0, 0); font-family: Verdana, &quot;Lucida Grande&quot;, Arial, Helvetica, sans-serif; font-size: 12px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">System Ｖ风格和BSD 风格，<span style=\"color: rgb(255, 0, 255);\"><strong>ps aux</strong></span>最初用到Unix Style中，而<strong>ps -ef</strong>被用在System V Style中，两者输出略有不同。现在的大部分Linux系统都是可以同时使用这两种方式的。</p>"
    },
    {
      "type": "text",
      "data": "<p style=\"margin: 10px auto; color: rgb(0, 0, 0); font-family: Verdana, &quot;Lucida Grande&quot;, Arial, Helvetica, sans-serif; font-size: 12px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(255, 0, 0);\"><strong>ps -ef 是用标准的格式显示进程的、其格式如下</strong></span></p><p style=\"margin: 10px auto; color: rgb(0, 0, 0); font-family: Verdana, &quot;Lucida Grande&quot;, Arial, Helvetica, sans-serif; font-size: 12px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><img src=\"quiver-image-url/9B34577E01EAEE99DDC58FAD08D57020.jpg\" alt=\"\" style=\"border: 0px; max-width: 900px;\" width=\"505\" height=\"100\"></p>"
    },
    {
      "type": "text",
      "data": "<strong style=\"color: rgb(255, 0, 0); font-family: Verdana, &quot;Lucida Grande&quot;, Arial, Helvetica, sans-serif; font-size: 12px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">ps aux 是用BSD的格式来显示、其格式如下</strong>"
    },
    {
      "type": "text",
      "data": "<img src=\"quiver-image-url/88ACB9CDD367BBE930607EAB3B26316D.jpg\" width=\"859\" height=\"134\">"
    },
    {
      "type": "text",
      "data": "<p style=\"margin: 10px auto; color: rgb(0, 0, 0); font-family: Verdana, &quot;Lucida Grande&quot;, Arial, Helvetica, sans-serif; font-size: 12px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">同ps -ef 不同的有列有</p><div class=\"cnblogs_code\" style=\"background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); padding: 5px; overflow: auto; margin: 5px 0px; color: rgb(0, 0, 0); font-size: 12px; max-width: 900px; font-variant-ligatures: normal; orphans: 2; widows: 2; font-family: &quot;Courier New&quot; !important;\"><pre style=\"margin-top: 0px; margin-bottom: 0px; margin-left: 22px; white-space: pre-wrap; word-wrap: break-word; font-family: &quot;Courier New&quot; !important;\">USER      <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">用户名</span>\n%CPU      <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">进程占用的CPU百分比</span>\n%MEM      <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">占用内存的百分比</span>\nVSZ       <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">该进程使用的虚拟內存量（KB）</span>\nRSS       <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">该进程占用的固定內存量（KB）（驻留中页的数量）</span>\nSTAT      <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">进程的状态</span>\nSTART     <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">该进程被触发启动时间</span>\nTIME      <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">该进程实际使用CPU运行的时间</span></pre></div>"
    },
    {
      "type": "text",
      "data": "<span style=\"color: rgb(0, 0, 0); font-family: Verdana, &quot;Lucida Grande&quot;, Arial, Helvetica, sans-serif; font-size: 12px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">其中STAT状态位常见的状态字符有</span>"
    },
    {
      "type": "text",
      "data": "<pre style=\"margin-top: 0px; margin-bottom: 0px; margin-left: 22px; white-space: pre-wrap; word-wrap: break-word; font-size: 12px; color: rgb(0, 0, 0); font-variant-ligatures: normal; orphans: 2; widows: 2; font-family: &quot;Courier New&quot; !important;\">D      <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">无法中断的休眠状态（通常 IO 的进程）；</span>\nR      <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">正在运行可中在队列中可过行的；</span>\nS      <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">处于休眠状态；</span>\nT      <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">停止或被追踪；</span>\nW      <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">进入内存交换 （从内核2.6开始无效）；</span>\nX      <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">死掉的进程 （基本很少见）；</span>\nZ      <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">僵尸进程；</span>\n&lt;      <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">优先级高的进程</span>\nN      <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">优先级较低的进程</span>\nL      <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">有些页被锁进内存；</span>\ns      <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">进程的领导者（在它之下有子进程）；</span>\nl      <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">多线程，克隆线程（使用 CLONE_THREAD, 类似 NPTL pthreads）；</span>\n+      <span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">//</span><span style=\"color: rgb(0, 128, 0); line-height: 1.5 !important;\">位于后台的进程组；</span></pre>"
    },
    {
      "type": "markdown",
      "data": "ps -l 所显示的状态信息详解"
    },
    {
      "type": "text",
      "data": "<p style=\"box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">相關信息的意義：</p><p style=\"box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">F&nbsp; 進程的標誌（flag），<span style=\"box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(255, 0, 0);\">4表示用戶為超級用戶</span></p><p style=\"box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">S&nbsp; 進程的狀態（stat），各STAT的意義見下文</p><p style=\"box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">PID&nbsp;&nbsp; 進程的ID</p><p style=\"box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(255, 0, 0);\">C&nbsp;&nbsp; CPU使用資源的百分比</span></p><p style=\"box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">PRI&nbsp;&nbsp; priority(優先級)的縮寫，<br style=\"box-sizing: border-box;\">NI&nbsp;&nbsp;&nbsp;&nbsp; Nice值，</p><p style=\"box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(255, 0, 0);\">ADDR&nbsp; 核心功能，指出該進程在內存的那一部分，如果是運行的進程，一般都是“-”</span></p><p style=\"box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(255, 0, 0);\">SZ&nbsp;&nbsp;&nbsp;&nbsp; 用掉的內存的大小</span></p><p style=\"box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(255, 0, 0);\">WCHAN&nbsp;&nbsp; 當前進程是否正在運行，若為“-”表示正在運行</span></p><p style=\"box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">TTY&nbsp;&nbsp;&nbsp;&nbsp; 登陸者的終端位置</p><p style=\"box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">TIME&nbsp;&nbsp; 用掉的CPU的時間</p><p style=\"box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">CMD&nbsp;&nbsp;&nbsp; 所執行的指令</p><p style=\"box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">&nbsp;</p>"
    },
    {
      "type": "text",
      "data": "<p style=\"box-sizing: border-box; margin: 0px; padding: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; margin: 0px; padding: 0px; background-color: rgb(255, 0, 0);\">USER 进程的属主；<br style=\"box-sizing: border-box;\">PID&nbsp;&nbsp; 进程的ID；<br style=\"box-sizing: border-box;\">PPID&nbsp;&nbsp;&nbsp; 父进程；<br style=\"box-sizing: border-box;\">%CPU&nbsp;&nbsp; 进程占用的CPU百分比；<br style=\"box-sizing: border-box;\">%MEM &nbsp;占用内存的百分比；<br style=\"box-sizing: border-box;\">NI&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 进程的NICE值，数值大，表示较少占用CPU时间；<br style=\"box-sizing: border-box;\">VSZ&nbsp;&nbsp;&nbsp;&nbsp; 該进程使用的虚拟內存量（KB）；<br style=\"box-sizing: border-box;\">RSS&nbsp;&nbsp;&nbsp;&nbsp; 該進程占用的固定內存量（KB）（驻留中页的数量）；<br style=\"box-sizing: border-box;\">TTY&nbsp;&nbsp;&nbsp; &nbsp;該進程在那個終端上運行（登陸者的終端位置），若與終端無關，則顯示（？）。若為pts/0等，則表示由網絡連接主機進程<br style=\"box-sizing: border-box;\">WCHAN&nbsp; 當前進程是否正在進行，若為-表示正在進行；<br style=\"box-sizing: border-box;\">START&nbsp;&nbsp; 該進程被觸發启动时间；<br style=\"box-sizing: border-box;\">TIME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 該进程實際使用CPU運行的时间；<br style=\"box-sizing: border-box;\">COMMAND&nbsp;&nbsp; 命令的名称和参数；<br style=\"box-sizing: border-box;\"></span></p><div><span style=\"box-sizing: border-box; margin: 0px; padding: 0px; background-color: rgb(255, 0, 0);\"><br></span></div>"
    }
  ]
}