{
  "title": "MongoDB 查询文档",
  "cells": [
    {
      "type": "text",
      "data": "<h3 style=\"margin: 20px 0px 10px; padding: 0px; color: rgb(0, 0, 0); line-height: 1.7; font-size: 14px; font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">语法</h3><p style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">MongoDB 查询数据的语法格式如下</p>"
    },
    {
      "type": "code",
      "language": "sh",
      "data": ">db.COLLECTION_NAME.find()"
    },
    {
      "type": "text",
      "data": "<p style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">find() 方法以非结构化的方式来显示所有文档。</p><p style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">如果你需要以易读的方式来读取数据，可以使用 pretty() 方法，语法格式如下：</p>"
    },
    {
      "type": "code",
      "language": "sh",
      "data": ">db.col.find().pretty()"
    },
    {
      "type": "text",
      "data": "<p style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">pretty() 方法以格式化的方式来显示所有文档。</p><div><br></div>"
    },
    {
      "type": "text",
      "data": "<p style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">除了 find() 方法之外，还有一个 findOne() 方法，它只返回一个文档。</p>"
    },
    {
      "type": "text",
      "data": "<h2 style=\"margin: 20px 0px 10px; padding: 0px; color: rgb(0, 0, 0); line-height: 1.7; font-size: 16px; font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">MongoDB 与 RDBMS Where 语句比较</h2><p style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">如果你熟悉常规的 SQL 数据，通过下表可以更好的理解 MongoDB 的条件语句查询：</p>"
    },
    {
      "type": "text",
      "data": "<br class=\"Apple-interchange-newline\"><table style=\"margin: 15px 0px; padding: 0px; width: 979px; table-layout: fixed; color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><thead style=\"margin: 0px; padding: 0px; background-color: rgb(249, 249, 249);\"><tr style=\"margin: 0px; padding: 0px;\"><th style=\"margin: 0px; padding: 2px 4px; background-color: rgb(255, 255, 255); border-color: rgb(204, 204, 204);\">操作</th><th style=\"margin: 0px; padding: 2px 4px; background-color: rgb(255, 255, 255); border-color: rgb(204, 204, 204);\">格式</th><th style=\"margin: 0px; padding: 2px 4px; background-color: rgb(255, 255, 255); border-color: rgb(204, 204, 204);\">范例</th><th style=\"margin: 0px; padding: 2px 4px; background-color: rgb(255, 255, 255); border-color: rgb(204, 204, 204);\">RDBMS中的类似语句</th></tr></thead><tbody style=\"margin: 0px; padding: 0px;\"><tr style=\"margin: 0px; padding: 0px;\"><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\">等于</td><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\"><code style=\"margin-right: 5px; margin-left: 5px; padding: 0px 4px; display: inline-block; background-color: rgb(249, 242, 244); font-size: 14px; color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace;\">{&lt;key&gt;:&lt;value&gt;</code>}</td><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\"><code style=\"margin-right: 5px; margin-left: 5px; padding: 0px 4px; display: inline-block; background-color: rgb(249, 242, 244); font-size: 14px; color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace;\">db.col.find({\"by\":”w3cschoo <br>l\"}).pretty()</code></td><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\"><code style=\"margin-right: 5px; margin-left: 5px; padding: 0px 4px; display: inline-block; background-color: rgb(249, 242, 244); font-size: 14px; color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace;\">where by = 'w3cschool'</code></td></tr><tr style=\"margin: 0px; padding: 0px;\"><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\">小于</td><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\"><code style=\"margin-right: 5px; margin-left: 5px; padding: 0px 4px; display: inline-block; background-color: rgb(249, 242, 244); font-size: 14px; color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace;\">{&lt;key&gt;:{$lt:&lt;value&gt;}}</code></td><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\"><code style=\"margin-right: 5px; margin-left: 5px; padding: 0px 4px; display: inline-block; background-color: rgb(249, 242, 244); font-size: 14px; color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace;\">db.col.find({\"likes\":{$lt:50}}).pretty()</code></td><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\"><code style=\"margin-right: 5px; margin-left: 5px; padding: 0px 4px; display: inline-block; background-color: rgb(249, 242, 244); font-size: 14px; color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace;\">where likes &lt; 50</code></td></tr><tr style=\"margin: 0px; padding: 0px;\"><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\">小于或等于</td><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\"><code style=\"margin-right: 5px; margin-left: 5px; padding: 0px 4px; display: inline-block; background-color: rgb(249, 242, 244); font-size: 14px; color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace;\">{&lt;key&gt;:{$lte:&lt;value&gt;}}</code></td><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\"><code style=\"margin-right: 5px; margin-left: 5px; padding: 0px 4px; display: inline-block; background-color: rgb(249, 242, 244); font-size: 14px; color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace;\">db.col.find({\"likes\":{$lte:50}}).pretty()</code></td><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\"><code style=\"margin-right: 5px; margin-left: 5px; padding: 0px 4px; display: inline-block; background-color: rgb(249, 242, 244); font-size: 14px; color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace;\">where likes &lt;= 50</code></td></tr><tr style=\"margin: 0px; padding: 0px;\"><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\">大于</td><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\"><code style=\"margin-right: 5px; margin-left: 5px; padding: 0px 4px; display: inline-block; background-color: rgb(249, 242, 244); font-size: 14px; color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace;\">{&lt;key&gt;:{$gt:&lt;value&gt;}}</code></td><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\"><code style=\"margin-right: 5px; margin-left: 5px; padding: 0px 4px; display: inline-block; background-color: rgb(249, 242, 244); font-size: 14px; color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace;\">db.col.find({\"likes\":{$gt:50}}).pretty()</code></td><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\"><code style=\"margin-right: 5px; margin-left: 5px; padding: 0px 4px; display: inline-block; background-color: rgb(249, 242, 244); font-size: 14px; color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace;\">where likes &gt; 50</code></td></tr><tr style=\"margin: 0px; padding: 0px;\"><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\">大于或等于</td><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\"><code style=\"margin-right: 5px; margin-left: 5px; padding: 0px 4px; display: inline-block; background-color: rgb(249, 242, 244); font-size: 14px; color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace;\">{&lt;key&gt;:{$gte:&lt;value&gt;}}</code></td><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\"><code style=\"margin-right: 5px; margin-left: 5px; padding: 0px 4px; display: inline-block; background-color: rgb(249, 242, 244); font-size: 14px; color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace;\">db.col.find({\"likes\":{$gte:50}}).pretty()</code></td><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\"><code style=\"margin-right: 5px; margin-left: 5px; padding: 0px 4px; display: inline-block; background-color: rgb(249, 242, 244); font-size: 14px; color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace;\">where likes &gt;= 50</code></td></tr><tr style=\"margin: 0px; padding: 0px;\"><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\">不等于</td><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\"><code style=\"margin-right: 5px; margin-left: 5px; padding: 0px 4px; display: inline-block; background-color: rgb(249, 242, 244); font-size: 14px; color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace;\">{&lt;key&gt;:{$ne:&lt;value&gt;}}</code></td><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\"><code style=\"margin-right: 5px; margin-left: 5px; padding: 0px 4px; display: inline-block; background-color: rgb(249, 242, 244); font-size: 14px; color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace;\">db.col.find({\"likes\":{$ne:50}}).pretty()</code></td><td style=\"margin: 0px; padding: 2px 4px; min-width: 40px; height: 30px; border-color: rgb(204, 204, 204); vertical-align: top; box-sizing: border-box;\"><code style=\"margin-right: 5px; margin-left: 5px; padding: 0px 4px; display: inline-block; background-color: rgb(249, 242, 244); font-size: 14px; color: rgb(199, 37, 78); font-family: Consolas, &quot;Courier New&quot;, Courier, monospace;\">where likes != 50<br><br></code></td></tr></tbody></table>"
    },
    {
      "type": "text",
      "data": "<h2 style=\"margin: 20px 0px 10px; padding: 0px; color: rgb(0, 0, 0); line-height: 1.7; font-size: 16px; font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">MongoDB AND 条件</h2><p style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">MongoDB 的 find() 方法可以传入多个键(key)，每个键(key)以逗号隔开，及常规 SQL 的 AND 条件。</p><p style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">语法格式如下：</p><div><br></div>"
    },
    {
      "type": "code",
      "language": "sh",
      "data": ">db.col.find({key1:value1, key2:value2}).pretty()"
    },
    {
      "type": "text",
      "data": "<h2 style=\"margin: 20px 0px 10px; padding: 0px; color: rgb(0, 0, 0); line-height: 1.7; font-size: 16px; font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">MongoDB OR 条件</h2><p style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">MongoDB OR 条件语句使用了关键字&nbsp;<strong style=\"margin: 0px; padding: 0px;\">$or</strong>,语法格式如下：</p>"
    },
    {
      "type": "code",
      "language": "sh",
      "data": ">db.col.find(\n   {\n      $or: [\n\t     {key1: value1}, {key2:value2}\n      ]\n   }\n).pretty()"
    },
    {
      "type": "text",
      "data": "<h2 style=\"margin: 20px 0px 10px; padding: 0px; color: rgb(0, 0, 0); line-height: 1.7; font-size: 16px; font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">AND 和 OR 联合使用</h2><div><p style=\"margin: 0px 0px 5px; padding: 0px; word-wrap: break-word; color: rgb(0, 0, 0); line-height: 1.7; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">以下实例演示了 AND 和 OR 联合使用，类似常规 SQL 语句为：&nbsp;<strong style=\"margin: 0px; padding: 0px;\">'where likes&gt;50 AND (by = 'w3cschool' OR title = 'MongoDB 教程')'</strong></p></div>"
    },
    {
      "type": "code",
      "language": "json",
      "data": ">db.col.find({\"likes\": {$gt:50}, $or: [{\"by\": \"w3cschool\"},{\"title\": \"MongoDB 教程\"}]}).pretty()\n{\n        \"_id\" : ObjectId(\"56063f17ade2f21f36b03133\"),\n        \"title\" : \"MongoDB 教程\",\n        \"description\" : \"MongoDB 是一个 Nosql 数据库\",\n        \"by\" : \"w3cschool\",\n        \"url\" : \"http://www.w3cschool.cn\",\n        \"tags\" : [\n                \"mongodb\",\n                \"database\",\n                \"NoSQL\"\n        ],\n        \"likes\" : 100\n}"
    }
  ]
}